<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pillar Two Challenge</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #333;
    }
    select, button {
      font-size: 1em;
      padding: 10px;
      margin: 10px 0;
      width: 100%;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    .quiz-box {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    .question {
      font-weight: bold;
      margin-bottom: 10px;
    }
    .difficulty {
      float: right;
      font-size: 0.8em;
      padding: 2px 6px;
      border-radius: 4px;
      background: #ccc;
    }
    .easy { background: #b2fab4; }
    .medium { background: #ffe082; }
    .hard { background: #ff8a80; }
    .options button {
      display: block;
      margin: 8px 0;
      padding: 10px;
      width: 100%;
      border: none;
      border-radius: 5px;
      background: #e0e0e0;
      cursor: pointer;
      transition: background 0.3s;
    }
    .options button:hover {
      background: #d0d0d0;
    }
    .feedback {
      margin-top: 10px;
      font-style: italic;
    }
    .learn-more {
      margin-top: 5px;
      font-size: 0.9em;
    }
    .progress-bar {
      height: 10px;
      background: #ddd;
      border-radius: 5px;
      overflow: hidden;
      margin-bottom: 20px;
    }
    .progress-fill {
      height: 100%;
      width: 0%;
      background: #4caf50;
      transition: width 0.5s;
    }
    .score-box {
      text-align: center;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Pillar Two Challenge</h1>
    <div class="quiz-box">
      <label for="sectionSelect">Choose a section:</label>
      <select id="sectionSelect">
        <option value="qdmt">QDMTT</option>
        <option value="iir">IIR</option>
        <option value="utpr">UTPR</option>
        <option value="general">General Concepts</option>
        <option value="auslaw">Australia-Specific Law</option>
      </select>
      <button onclick="startQuiz()">Start Quiz</button>
      <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
      <div id="quiz"></div>
      <div class="score-box" id="score"></div>
    </div>
  </div>

  <script>
    const quizzes = {
  qdmt: [
    {
      text: "What is the minimum effective tax rate required under Australia’s QDMTT?",
      options: ["15%", "10%", "20%"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.legislation.gov.au/Details/C2024A00123"
    },
    {
      text: "Which entities are subject to QDMTT in Australia?",
      options: ["All Australian entities", "Entities in MNE groups with global revenue ≥ €750M", "Only foreign-owned entities"],
      answer: 1,
      difficulty: "medium",
      learnMore: "https://www.ato.gov.au/Business/International-tax/Global-minimum-tax/"
    },
    {
      text: "How is the QDMTT top-up tax calculated?",
      options: ["Based on accounting profit", "Based on excess profit over 15% ETR", "Flat rate on taxable income"],
      answer: 1,
      difficulty: "hard",
      learnMore: "https://www.oecd.org/tax/beps/global-anti-base-erosion-rules.htm"
    },
    {
      text: "Which income years does QDMTT apply to in Australia?",
      options: ["Starting on or after 1 Jan 2024", "Starting on or after 1 July 2024", "Starting on or after 1 Jan 2025"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.legislation.gov.au/Details/C2024A00123"
    },
    {
      text: "What is the role of the GloBE Information Return in QDMTT compliance?",
      options: ["It replaces tax returns", "It reports jurisdictional ETR and top-up tax", "It determines eligibility for QDMTT"],
      answer: 1,
      difficulty: "medium",
      learnMore: "https://www.oecd.org/tax/beps/globe-information-return.htm"
    },
    {
      text: "Which rule takes priority: QDMTT or IIR?",
      options: ["QDMTT", "IIR", "UTPR"],
      answer: 0,
      difficulty: "hard",
      learnMore: "https://www.legislation.gov.au/Details/C2024A00123"
    },
    {
      text: "Does Australia’s QDMTT apply to passive income?",
      options: ["Yes, if included in covered taxes", "No, passive income is excluded", "Only if derived from foreign sources"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.ato.gov.au"
    },
    {
      text: "What is the purpose of QDMTT?",
      options: ["To reduce corporate tax rates", "To ensure minimum taxation in Australia before foreign rules apply", "To simplify tax compliance"],
      answer: 1,
      difficulty: "easy",
      learnMore: "https://www.oecd.org/tax/beps/"
    },
    {
      text: "Which accounting standard is used to determine covered taxes under QDMTT?",
      options: ["IFRS", "Australian GAAP", "OECD-defined GloBE standard"],
      answer: 2,
      difficulty: "hard",
      learnMore: "https://www.oecd.org/tax/beps/globe-model-rules.htm"
    },
    {
      text: "Can QDMTT result in no top-up tax if the jurisdictional ETR is ≥ 15%?",
      options: ["Yes", "No", "Only if approved by the ATO"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.legislation.gov.au/Details/C2024A00123"
    }
  ],
    iir: [
    {
      text: "What does IIR stand for in the Pillar Two framework?",
      options: ["Income Inclusion Rule", "International Income Regulation", "Indirect Income Reporting"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.oecd.org/tax/beps/income-inclusion-rule.htm"
    },
    {
      text: "Which entity applies the IIR?",
      options: ["Ultimate parent entity", "Local subsidiary", "Tax authority"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.legislation.gov.au"
    },
    {
      text: "What triggers the IIR?",
      options: ["Low ETR in a foreign jurisdiction", "High revenue in Australia", "Losses in the parent entity"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.oecd.org/tax/beps/"
    },
    {
      text: "Does Australia’s IIR apply to foreign subsidiaries?",
      options: ["Yes", "No", "Only if they are profitable"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.ato.gov.au"
    },
    {
      text: "What is the top-up tax rate under IIR?",
      options: ["15%", "10%", "20%"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.legislation.gov.au"
    },
    {
      text: "How is the IIR top-up tax calculated?",
      options: ["Based on excess profit over 15% ETR", "Flat rate on gross income", "Based on local tax paid"],
      answer: 0,
      difficulty: "hard",
      learnMore: "https://www.oecd.org/tax/beps/"
    },
    {
      text: "Which rule applies first: IIR or UTPR?",
      options: ["IIR", "UTPR", "QDMTT"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.legislation.gov.au"
    },
    {
      text: "Can IIR apply to passive income?",
      options: ["Yes", "No", "Only if derived from royalties"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.oecd.org"
    },
    {
      text: "What is the role of the GloBE rules in IIR?",
      options: ["Define scope and calculation", "Replace local tax law", "Determine residency"],
      answer: 0,
      difficulty: "hard",
      learnMore: "https://www.oecd.org/tax/beps/globe-model-rules.htm"
    },
    {
      text: "Is the IIR part of Australia’s 2024 enacted law?",
      options: ["Yes", "No", "Only in draft form"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.legislation.gov.au"
    }
  ],
  utpr: [
    {
      text: "What does UTPR stand for?",
      options: ["Undertaxed Profits Rule", "Universal Tax Payment Regulation", "Unreported Taxable Profits Rule"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.oecd.org/tax/beps/undertaxed-profits-rule.htm"
    },
    {
      text: "When does Australia’s UTPR take effect?",
      options: ["1 Jan 2025", "1 Jan 2024", "1 July 2025"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.legislation.gov.au"
    },
    {
      text: "What is the purpose of UTPR?",
      options: ["To allocate top-up tax when IIR doesn’t apply", "To reduce tax rates", "To simplify reporting"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.oecd.org"
    },
    {
      text: "Which entities are affected by UTPR?",
      options: ["Constituent entities in jurisdictions with low ETR", "Only parent entities", "Only Australian entities"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.ato.gov.au"
    },
    {
      text: "How is the UTPR top-up tax allocated?",
      options: ["Based on employees and tangible assets", "Equally across jurisdictions", "Based on revenue"],
      answer: 0,
      difficulty: "hard",
      learnMore: "https://www.oecd.org"
    },
    {
      text: "Can UTPR apply if IIR has already been applied?",
      options: ["No", "Yes", "Only if approved by the ATO"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.legislation.gov.au"
    },
    {
      text: "Is UTPR part of Australia’s 2024 legislation?",
      options: ["Yes", "No", "Only in draft form"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.legislation.gov.au"
    },
    {
      text: "What is the minimum ETR threshold triggering UTPR?",
      options: ["15%", "10%", "20%"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.oecd.org"
    },
    {
      text: "Does UTPR override QDMTT?",
      options: ["No, QDMTT applies first", "Yes", "Only in foreign jurisdictions"],
      answer: 0,
      difficulty: "hard",
      learnMore: "https://www.legislation.gov.au"
    },
    {
      text: "What is the role of the GloBE rules in UTPR?",
      options: ["Define allocation and scope", "Determine residency", "Set tax rates"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.oecd.org/tax/beps/globe-model-rules.htm"
    }
  ],
  general: [
    {
      text: "What is the global revenue threshold for Pillar Two?",
      options: ["€750M", "AUD 1B", "USD 500M"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.oecd.org/tax/beps/"
    },
    {
      text: "What is the minimum effective tax rate under Pillar Two?",
      options: ["10%", "12.5%", "15%", "20%"],
      answer: 2,
      difficulty: "easy",
      learnMore: "https://www.oecd.org/tax/beps/"
    },
    {
      text: "Which entities are primarily affected by Pillar Two?",
      options: ["Startups", "SMEs", "MNEs with revenue over €750M", "Non-profits"],
      answer: 2,
      difficulty: "medium",
      learnMore: "https://www.oecd.org/tax/beps/"
    },
    {
      text: "What is the purpose of Pillar Two?",
      options: ["To ensure a minimum level of taxation globally", "To eliminate corporate tax", "To promote trade"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.oecd.org/tax/beps/"
    },
    {
      text: "Which organization developed the Pillar Two framework?",
      options: ["UN", "OECD", "IMF"],
      answer: 1,
      difficulty: "easy",
      learnMore: "https://www.oecd.org/tax/beps/"
    },
    {
      text: "What are the core rules under Pillar Two?",
      options: ["QDMTT, IIR, UTPR", "VAT, GST, PAYG", "BEPS, FATCA, CRS"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.oecd.org/tax/beps/"
    },
    {
      text: "Does Pillar Two apply to domestic-only companies?",
      options: ["No", "Yes", "Only if revenue exceeds €750M"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.oecd.org/tax/beps/"
    },
    {
      text: "Is Pillar Two part of the OECD/G20 Inclusive Framework?",
      options: ["Yes", "No", "Only for EU countries"],
      answer: 0,
      difficulty: "easy",
      learnMore: "https://www.oecd.org/tax/beps/"
    },
    {
      text: "What is the role of the GloBE rules?",
      options: ["To calculate top-up tax", "To set VAT rates", "To define residency"],
      answer: 0,
      difficulty: "medium",
      learnMore: "https://www.oecd.org/tax/beps/globe-model-rules.htm"
    },
    {
      text: "Can countries implement Pillar Two differently?",
      options: ["Yes, within OECD guidelines", "No, it must be identical", "Only with UN approval"],
      answer: 
;

    let current = 0, score = 0, currentQuiz = [];

    function startQuiz() {
      const section = document.getElementById("sectionSelect").value;
      currentQuiz = quizzes[section];
      current = 0;
      score = 0;
      document.getElementById("score").innerHTML = "";
      loadQuestion();
    }

    function loadQuestion() {
      const q = currentQuiz[current];
      const quizDiv = document.getElementById("quiz");
      const progress = ((current / currentQuiz.length) * 100).toFixed(0);
      document.getElementById("progressFill").style.width = `${progress}%`;

      quizDiv.innerHTML = `
        <div class="question">${q.text} <span class="difficulty ${q.difficulty}">${q.difficulty.toUpperCase()}</span></div>
        <div class="options">
          ${q.options.map((opt, i) => `<button onclick="checkAnswer(${i})">${opt}</button>`).join("")}
        </div>
        <div class="learn-more"><a href="${q.learnMore}" target="_blank">Learn More</a></div>
        <div class="feedback" id="feedback"></div>
      `;
    }

    function checkAnswer(selected) {
      const q = currentQuiz[current];
      const feedback = document.getElementById("feedback");
      if (selected === q.answer) {
        score++;
        feedback.textContent = "✅ Correct!";
      } else {
        feedback.textContent = `❌ Incorrect. Correct answer: ${q.options[q.answer]}`;
      }
      current++;
      setTimeout(() => {
        if (current < currentQuiz.length) {
          loadQuestion();
        } else {
          document.getElementById("quiz").innerHTML = "";
          document.getElementById("progressFill").style.width = "100%";
          document.getElementById("score").innerHTML = `
            <h3>Quiz Complete!</h3>
            <p>Your score: ${score} / ${currentQuiz.length}</p>
            <button onclick="startQuiz()">Restart Quiz</button>
          `;
        }
      }, 1500);
    }
  </script>
</body>
</html>
