<!DOCTYPE html>
<html>
<head>
  <title>Pillar 2 Explorer</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f6f8; margin: 0; padding: 0; }
    header { background: #003366; color: white; padding: 10px 20px; }
    header h1 { margin: 0; }
    .container { padding: 20px; }
    .scenario-list button { 
      background: white; 
      border: 1px solid #ccc; 
      padding: 10px; 
      margin: 10px 0; 
      width: 100%; 
      text-align: left; 
      cursor: pointer; 
      border-radius: 5px;
    }
    .scenario-list button:hover { background: #eef; }
    .key-terms, .results { 
      background: white; 
      padding: 15px; 
      border-radius: 5px; 
      margin-top: 20px; 
      border: 1px solid #ddd;
    }
    .term { font-weight: bold; color: #003366; }
    .replay-btn { 
      margin-top: 20px; 
      background: #003366; 
      color: white; 
      padding: 10px 20px; 
      border: none; 
      border-radius: 5px; 
      cursor: pointer;
    }
    .replay-btn:hover { background: #0055aa; }
  </style>
</head>
<body>
  <header>
    <h1>Pillar 2 Explorer – Light & Easy Edition</h1>
  </header>
  <div class="container" id="app">
    <div class="scenario-list" id="scenarioList">
      <h2>Pick a scenario:</h2>
      <button onclick="playScenario(0)">US HQ, Aussie Subsidiary – Low Tax Rate (<small>Quick test of top-up tax</small>)</button>
      <button onclick="playScenario(1)">US HQ, Aussie Subsidiary – QDMTT Applies (<small>Domestic top-up tax in action</small>)</button>
      <button onclick="playScenario(2)">Global Group – UTPR Triggered (<small>Someone’s paying the difference</small>)</button>
    </div>
    <div class="scenario" id="scenario" style="display:none;">
      <h2 id="scenarioTitle"></h2>
      <p id="scenarioText"></p>

      <div class="results" id="results"></div>

      <div class="key-terms">
        <h3>Key Terms</h3>
        <p><span class="term">GloBE</span>: The OECD’s Global anti-Base Erosion rules – basically the Pillar 2 framework.</p>
        <p><span class="term">QDMTT</span>: Qualified Domestic Minimum Top-up Tax – lets a country collect extra tax before others do.</p>
        <p><span class="term">UTPR</span>: Undertaxed Profits Rule – a “backstop” rule letting other countries tax if you didn’t.</p>
      </div>

      <button class="replay-btn" onclick="replay()">Play Again</button>
    </div>
  </div>

  <script>
    const scenarios = [
      {
        title: "US HQ, Aussie Subsidiary – Low Tax Rate",
        text: "Our fictional company, KoalaTech Inc., is headquartered in the US and has a big R&D hub in Australia. Aussie profits are taxed at 12%. Under Pillar 2, the global minimum is 15%. Spoiler: someone's writing a cheque.",
        outcome: "Since Australia’s effective rate is below 15% and no QDMTT exists here, the US (or other jurisdictions) may impose a top-up tax to bring the total to 15%."
      },
      {
        title: "US HQ, Aussie Subsidiary – QDMTT Applies",
        text: "KoalaTech Inc. still earns big in Australia, but now Australia has introduced a Qualified Domestic Minimum Top-up Tax. Same low effective tax rate of 12%, but...",
        outcome: "Australia collects the top-up itself to reach 15%, keeping the revenue here and blocking others from taxing it."
      },
      {
        title: "Global Group – UTPR Triggered",
        text: "Our fictional group, Platypus Global, has subsidiaries in multiple countries. One jurisdiction has an effective rate of 5% and no QDMTT. That’s a big gap from 15%.",
        outcome: "The Undertaxed Profits Rule allows other jurisdictions to grab the missing 10% in tax, even if the low-tax country doesn’t act."
      }
    ];

    function playScenario(index) {
      document.getElementById('scenarioList').style.display = 'none';
      const s = scenarios[index];
      document.getElementById('scenarioTitle').innerText = s.title;
      document.getElementById('scenarioText').innerText = s.text;
      document.getElementById('results').innerHTML = "<strong>Outcome:</strong> " + s.outcome;
      document.getElementById('scenario').style.display = 'block';
    }

    function replay() {
      document.getElementById('scenario').style.display = 'none';
      document.getElementById('scenarioList').style.display = 'block';
    }
  </script>
</body>
</html>
